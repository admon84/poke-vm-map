import{L as e,X as t}from"./react-vendor-ZjqdYyzx.js";var n=t();function r({userLocation:t,pins:r,onPinSelect:i,onClose:a,maxResults:o=25,maxDistance:s=50}){let c=(e,t,n,r)=>{let i=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},l=r.map(e=>{let n=c(t.lat,t.lng,e.location.lat,e.location.lng),r=n*.621371;return{pin:e,distance:r<1?n:r,unit:r<1?`km`:`mi`,distanceMiles:r}}).filter(e=>e.distanceMiles<=s).sort((e,t)=>e.distanceMiles-t.distanceMiles).slice(0,o);if(l.length===0)return(0,n.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-64 text-slate-400`,children:[(0,n.jsx)(e,{className:`h-12 w-12 mb-4`,strokeWidth:1.5}),(0,n.jsx)(`p`,{className:`text-sm`,children:`No locations found nearby`}),(0,n.jsxs)(`p`,{className:`text-xs mt-1`,children:[`No locations within `,s,` miles`]})]});let u=e=>{i(e),a?.()};return(0,n.jsx)(`div`,{className:`p-4 space-y-2`,children:l.map((e,t)=>(0,n.jsx)(`button`,{onClick:()=>u(e.pin.id),className:`w-full text-left p-4 rounded-lg bg-slate-800/50 hover:bg-slate-700 transition-colors group`,children:(0,n.jsxs)(`div`,{className:`flex items-start justify-between gap-3`,children:[(0,n.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,n.jsxs)(`div`,{className:`flex items-center gap-2 mb-1`,children:[(0,n.jsxs)(`span`,{className:`text-xs font-bold text-slate-500 bg-slate-900 px-2 py-1 rounded`,children:[`#`,t+1]}),(0,n.jsx)(`h3`,{className:`text-sm font-medium text-white group-hover:text-emerald-400 transition-colors truncate`,children:e.pin.retailer||`Location`})]}),e.pin.address&&(0,n.jsx)(`p`,{className:`text-xs text-slate-400 truncate mt-1`,children:e.pin.address})]}),(0,n.jsx)(`div`,{className:`flex flex-col items-end gap-1`,children:(0,n.jsxs)(`span`,{className:`text-sm font-bold text-emerald-400 whitespace-nowrap`,children:[e.distance.toFixed(1),` `,e.unit]})})]})},e.pin.id))})}export{r as NearestLocations};